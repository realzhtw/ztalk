(def (split-string s c)
  (accumulate-to-vector acc
    ((afn (i j)
       (if (= j (length s)) (acc (substring s i j))
           (is (ref s j) c) (do
                              (acc (substring s i j))
                              (self (+ j 1) (+ j 1)))
                            (self i (+ j 1))))
     0 0)))
